{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "ddp olmo debug",
            "type": "debugpy",
            "request": "launch",
            "program": "/usr/local/bin/torchrun",
            "console": "integratedTerminal",
            "args": "--nproc-per-node=4 /workspace/OLMo-core/src/test/nn/parallel/distributed_test.py",

            "cwd": "/workspace/OLMo-core",
            "env": {

                },
            "justMyCode": false,

        },
        {
            "name": "olmo-core debug",
            "type": "debugpy",
            "request": "launch",
            "program": "/usr/local/bin/torchrun",
            "console": "integratedTerminal",
            "args": "--nproc-per-node=8 /workspace/OLMo-core/src/scripts/train/OLMoE3-nov25.py train OLMoE3-nov25 ai2/augusta",

            "cwd": "/workspace/OLMo-core",
            "env": {
                "WANDB_API_KEY": "61753d825c2bec08062290674ce9e3585bf31db3",
                "TORCHINDUCTOR_COMPILE_THREADS": "2",
                },
            "justMyCode": false,

        },
        {
            "name": "olmo-core debug mp",
            "type": "debugpy",
            "request": "launch",
            "program": "/usr/local/bin/torchrun",
            "console": "integratedTerminal",
            "args": "--rdzv_endpoint augusta-gcp-358:10086 --nproc-per-node=8 --rdzv_id 20086 --rdzv_backend c10d --nnodes 32 --node_rank 25 /workspace/OLMo-core/src/scripts/train/OLMoE3-dec12.py train OLMoE3-dec12 ai2/augusta",

            "cwd": "/workspace/OLMo-core",
            "env": {
                "WANDB_API_KEY": "61753d825c2bec08062290674ce9e3585bf31db3",
                "TORCHINDUCTOR_COMPILE_THREADS": "2",
                "LD_LIBRARY_PATH": "/var/lib/tcpxo/lib64:/usr/local/lib/python3.12/dist-packages/torch/lib:/usr/local/lib/python3.12/dist-packages/torch_tensorrt/lib:/usr/local/cuda/compat/lib:/usr/local/nvidia/lib:/usr/local/nvidia/lib64",
                "OLMO_NUM_NODES_ENV_VAR": "32",
                },
            "justMyCode": false,

        },
    ]
}